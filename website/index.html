<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <link rel="stylesheet" href="stylesheets/screen.css" type="text/css" media="screen" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
      Gems On Rails
  </title>
  <script src="javascripts/rounded_corners_lite.inc.js" type="text/javascript"></script>
<style>

</style>
  <script type="text/javascript">
    window.onload = function() {
      settings = {
          tl: { radius: 10 },
          tr: { radius: 10 },
          bl: { radius: 10 },
          br: { radius: 10 },
          antiAlias: true,
          autoPad: true,
          validTags: ["div"]
      }
      var versionBox = new curvyCorners(settings, document.getElementById("version"));
      versionBox.applyCornersToAll();
    }
  </script>
</head>
<body>
<div id="main">

    <h1>Gems On Rails</h1>
    <div id="version" class="clickable" onclick='document.location = "http://rubyforge.org/projects/gemsonrails"; return false'>
      Get Version
      <a href="http://rubyforge.org/projects/gemsonrails" class="numbers">0.6.4</a>
    </div>
    <h1>&#x2192; &#8216;gemsonrails&#8217;</h1>


	<h1>aka &#8216;vendor everything&#8217;</h1>


	<h2>What</h2>


	<p>Link or freeze RubyGems into your rails apps, instead of just plugins. This allows you to &#8216;vendor everything&#8217; &#8211; pushing all dependent gems into your rails app thus ensuring your application will be guaranteed to work when deployed. Your application is no longer dependent on the gems that are/aren&#8217;t available on your target deployment environment.</p>


	<h2>Installation and The Basics</h2>


	<p>First you install the gem:</p>


<pre>$ sudo gem install gemsonrails</pre>

	<p>Then you deploy the gem into your target Rails application:</p>


<pre>$ cd rails_app_folder
$ gemsonrails</pre>

	<p>This installs some rake tasks into your app to help you freeze or link gems:</p>


<pre syntax="ruby">$ rake -T | grep "gems:" 
rake gems:freeze    # Freeze a RubyGem into this Rails application; init.rb will be loaded on startup.
rake gems:link      # Link a RubyGem into this Rails application; init.rb will be loaded on startup.
rake gems:unfreeze  # Unfreeze/unlink a RubyGem from this Rails application
</pre>

	<p>Finally, for each gem your application uses you can either freeze a version into the app (only for gems that do not require native compilation), or link a gem with your app (useful for gems that require native compilation)</p>


<pre syntax="ruby">$ rake gems:freeze GEM=map_by_method
Unpacked map_by_method 0.6.0 to 'map_by_method-0.6.0'

$ ls vendor/gems/map_by_method-0.6.0/
CHANGELOG       README          Rakefile        init.rb         lib             test

$ cat vendor/gems/map_by_method-0.6.0/init.rb 
require File.join(File.dirname(__FILE__), 'lib', 'map_by_method')
</pre>

	<h2>Restricting which environments a gem is loaded into</h2>


	<p>You can restrict which <span class="caps">RAILS</span>_ENVs the gem will be loaded for, using <span class="caps">ONLY</span>; e.g.</p>


<pre syntax="ruby">$ rake gems:freeze GEM=&lt;gemname&gt; ONLY=development
$ rake gems:link GEM=&lt;gemname&gt; ONLY=production,staging
</pre>

	<p>In the former, only in <strong>development</strong> mode will the gem be loaded. In the latter, only in <strong>production</strong> or <strong>staging</strong> mode will the gem be loaded from the deployment gem server</p>


	<h2>Upgrading from old GemsOnRails versions</h2>


	<p>All the freezing and linking functionality is in the plugin installed by the <code>gemsonrails</code> command. To upgrade, simple install the new gem version, and re-run the <code>gemsonrails</code> command. You application will now have the newest rake tasks and functionality.</p>


	<h2>Forum</h2>


	<p><a href="http://groups.google.com/group/gemsonrails">http://groups.google.com/group/gemsonrails</a></p>


	<h2>How to submit patches</h2>


	<p>Read the <a href="http://drnicwilliams.com/2007/06/01/8-steps-for-fixing-other-peoples-code/">8 steps for fixing other people&#8217;s code</a> and for section <a href="http://drnicwilliams.com/2007/06/01/8-steps-for-fixing-other-peoples-code/#8b-google-groups">8b: Submit patch to Google Groups</a>, use the Google Group above.</p>


	<h2>Licence</h2>


	<p>This code is free to use under the terms of the <span class="caps">MIT</span> licence.</p>


	<h2>Contact</h2>


	<p>Comments are welcome. Send an email to <a href="mailto:drnicwilliams@gmail.com">Dr Nic Williams</a>.</p>
    <p class="coda">
      <a href="mailto:drnicwilliams@gmail.com">Dr Nic</a>, 1st June 2007<br>
      Theme extended from <a href="http://rb2js.rubyforge.org/">Paul Battley</a>
    </p>
</div>

<!-- insert site tracking codes here, like Google Urchin -->

</body>
</html>
